function getSubWinBody(e){return $("[data-form-id='"+e+"']").parents(".ztModal-body").eq(0)}function ModuleStringToJson(e){return JSON.parse(e.replace(/&quot;/g,'"'))}function bindCheckbox(e,t){null!=t&&""!=t||(t="ck_select"),e.on("change","input[type='checkbox']",this,function(){var n=$(this)[0].checked;this.id==t?$("input[type='checkbox']",e).not("#"+t).each(function(e,t){$(this)[0].checked=n}):0==$("input[type='checkbox']",e).not("[id="+t+"]").not("input:checked").length?$("#"+t,e)[0].checked=!0:$("#"+t,e)[0].checked=!1})}function fmoney(e,n){n=n>0&&n<=20?n:2,e=parseFloat((e+"").replace(/[^\d\.-]/g,"")).toFixed(n)+"";var o=e.split(".")[0].split("").reverse(),r=e.split(".")[1];for(t="",i=0;i<o.length;i++)t+=o[i]+((i+1)%3==0&&i+1!=o.length?",":"");return t.split("").reverse().join("")+"."+r}function HTMLEncodeFull(e){return void 0!=e&&""!=e&&(e=ReplaceAll(e,">","&gt;"),e=ReplaceAll(e,"<","&lt;"),e=ReplaceAll(e,'"',"&quot;"),e=ReplaceAll(e,"\r","")),e}function ReplaceAll(e,t,n){for(;e.indexOf(t)>=0;)e=e.replace(t,n);return e}function jsonDateFormat(e,t){try{var n;if(e.indexOf("Date")>=0)n=new Date(parseInt(e.replace("/Date(","").replace(")/",""),10));else{try{n=new Date(e)}catch(e){console.log(e)}void 0==n&&(n=window.navigator.userAgent.indexOf("Chrome")>-1?new Date(e.replace("T"," ")):new Date(e))}var o=n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1,r=n.getDate()<10?"0"+n.getDate():n.getDate(),i=n.getHours()<10?"0"+n.getHours():n.getHours(),a=n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes(),c=n.getSeconds()<10?"0"+n.getSeconds():n.getSeconds(),l=n.getMilliseconds();if("yyyy/MM/dd"==t)return n.getFullYear()+"/"+o+"/"+r;if("yyyy/MM/dd HH:mm:ss"==t)return n.getFullYear()+"/"+o+"/"+r+" "+i+":"+a+":"+c;if("yyyy年MM月dd日"==t)return n.getFullYear()+"年"+o+"月"+r+"日";if("HH:mm"==t)return i+":"+a;var s=n.getFullYear()+"/"+o+"/"+r+" "+i+":"+a+":"+c+"."+l;return s.indexOf("T")!=-1?s.replace("T"," "):s}catch(e){return""}}function gopage(e,t){return console.log(t),$(".nav").find("li").removeClass("active"),$(".nav").find("i").css("color",""),null!=t?($(t).children("i").css("color","#1ab394"),$(t).parents("li").each(function(e,t){$(this).addClass("active")})):$(".nav").find("ul").removeClass("in"),$(".datetimepicker.datetimepicker-dropdown-bottom-right.dropdown-menu").remove(),$.post(e,function(e){$("#MainPageContainer").children().remove(),$("#MainPageContainer").html(e)},"text"),!1}function goMenuPage(e){e=e.toLocaleLowerCase(),$("#side-menu").find("a").each(function(t,n){if(void 0!=$(n).attr("onclick")&&$(n).attr("onclick").toLocaleLowerCase().indexOf(e)>-1)return void $(n).click()})}function json2str(e){var t=[],n=function(e){return"object"==typeof e&&null!=e?json2str(e):/^(string|number)$/.test(typeof e)?"'"+e+"'":e};for(var o in e)t.push("'"+o+"':"+n(e[o]));return"{"+t.join(",")+"}"}$.ajaxSetup({complete:function(e,t){if("undefined"!=typeof e){var n=e.getResponseHeader("X-Responded-JSON");null!=n&&window.tipError("系统提示","登录超时，请重新登录",null,null,function(){window.location.href=window.location.href})}},error:function(e,t,n){var o=0;switch(e.status){case 500:o=500;break;case 401:window.location.href="~/";break;case 403:o=403;break;case 408:o=408;break;case 0:break;default:o=1}}}),$.extend($.fn.dataTable.defaults,{iDisplayLength:20,aLengthMenu:[[15,20,25,50,100],[15,20,25,50,100]],sServerMethod:"POST",bServerSide:!0,bFilter:!1,info:!0,bProcessing:!0,dom:"<'top'f>tr<'row'<'col-sm-4'li><'col-sm-8'p>>",language:{lengthMenu:"每页 _MENU_ 条",processing:"数据加载中。。。",info:", 共 _TOTAL_ 条 ",infoEmpty:"",zeroRecords:"没有数据",emptyTable:"没有数据",loadingRecords:"",search:"查找",paginate:{first:"首页",previous:"前一页",next:"后一页",last:"尾页"}}});